<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Propiedades | Inmobiliaria</title>
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="css/animations.css">
</head>

<body>
  <header class="header">
    <div class="container-wide header-inner">
      <a href="index.html" class="logo">Inmobiliaria</a>
      <nav class="nav">
        <a href="index.html">Inicio</a>
        <a href="propiedades.html" class="active">Propiedades</a>
        <a href="vender.html">Vender</a>
        <a href="alquilar.html">Alquilar</a>
        <a href="nosotros.html">Nosotros</a>
        <a href="contacto.html">Contacto</a>
      </nav>
      <a href="contacto.html" class="btn-primary btn-cta">Consultar</a>
      <button type="button" class="menu-toggle" id="menu-toggle" aria-label="Menú">
        <svg width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
          <path d="M4 6h16M4 12h16M4 18h16" />
        </svg>
      </button>
    </div>
    <div class="mobile-nav hidden" id="mobile-nav">
      <a href="index.html">Inicio</a>
      <a href="propiedades.html">Propiedades</a>
      <a href="vender.html">Vender</a>
      <a href="alquilar.html">Alquilar</a>
      <a href="nosotros.html">Nosotros</a>
      <a href="contacto.html">Contacto</a>
      <a href="contacto.html" class="btn-primary">Consultar</a>
    </div>
  </header>

  <main>
    <section class="hero hero-reveal">
      <div class="container-wide">
        <div class="hero-content">
          <h1 class="font-serif hero-title">Propiedades</h1>
          <p class="hero-desc">Use los filtros para acotar su búsqueda. Si no encuentra lo que busca, consúltenos:
            tenemos más opciones en cartera.</p>
        </div>
      </div>
    </section>

    <section class="section-padding" style="background: var(--cream);">
      <div class="container-wide">
        <div class="filters">
          <p class="title">Buscador avanzado</p>
          <form id="filters-form" method="get" action="propiedades.html">
            <div class="filters-grid">
              <div class="field">
                <label>Operación</label>
                <select name="operacion">
                  <option value="">Todas</option>
                  <option value="venta">Venta</option>
                  <option value="alquiler">Alquiler</option>
                </select>
              </div>
              <div class="field">
                <label>Tipo</label>
                <select name="tipo">
                  <option value="">Todos</option>
                  <option value="departamento">Departamento</option>
                  <option value="casa">Casa</option>
                  <option value="ph">PH</option>
                  <option value="local">Local</option>
                  <option value="terreno">Terreno</option>
                </select>
              </div>
              <div class="field">
                <label>Zona</label>
                <select name="zona">
                  <option value="">Todas</option>
                  <option value="Palermo">Palermo</option>
                  <option value="Recoleta">Recoleta</option>
                  <option value="Belgrano">Belgrano</option>
                  <option value="Núñez">Núñez</option>
                  <option value="Villa Crespo">Villa Crespo</option>
                  <option value="Caballito">Caballito</option>
                  <option value="Colegiales">Colegiales</option>
                  <option value="Puerto Madero">Puerto Madero</option>
                </select>
              </div>
              <div class="field">
                <label>Precio mín (USD)</label>
                <input type="number" name="minPrecio" placeholder="Ej. 100000">
              </div>
              <div class="field">
                <label>Precio máx (USD)</label>
                <input type="number" name="maxPrecio" placeholder="Ej. 500000">
              </div>
              <div class="field">
                <label>Ambientes</label>
                <select name="ambientes">
                  <option value="">Cualquiera</option>
                  <option value="1">1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4+</option>
                </select>
              </div>
            </div>
            <div class="actions">
              <button type="submit" class="btn-primary">Buscar propiedades</button>
              <a href="propiedades.html" class="btn-secondary"
                style="font-size: 0.875rem; padding: 0.5rem 1rem;">Limpiar filtros</a>
            </div>
          </form>
        </div>
        <p class="result-count" id="result-count"></p>
        <div class="card-grid" id="props-list"></div>
        <div class="empty-state hidden" id="empty-state">
          <p style="font-weight: 500; color: var(--navy); margin: 0;">No hay propiedades que coincidan con los filtros.
          </p>
          <p>Pruebe ampliando criterios o escríbanos y le enviamos opciones a medida.</p>
          <a href="contacto.html" class="btn-primary">Enviar consulta</a>
        </div>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="container-wide section-padding">
      <div class="footer-grid">
        <div>
          <p class="brand">Inmobiliaria</p>
          <p class="brand-desc">Asesoramiento profesional en compra, venta y alquiler. Su tranquilidad es nuestra
            prioridad.</p>
        </div>
        <div>
          <p class="foot-title">Navegación</p>
          <ul>
            <li><a href="propiedades.html">Propiedades</a></li>
            <li><a href="vender.html">Vender</a></li>
            <li><a href="alquilar.html">Alquilar</a></li>
            <li><a href="nosotros.html">Nosotros</a></li>
            <li><a href="contacto.html">Contacto</a></li>
          </ul>
        </div>
        <div>
          <p class="foot-title">Contacto</p>
          <p style="font-size: 0.875rem;">consultas@inmobiliaria.com</p>
          <p style="font-size: 0.875rem;">+54 11 1234-5678</p>
          <a href="contacto.html" class="btn-primary" style="margin-top: 1rem;">Enviar consulta</a>
        </div>
      </div>
      <p class="copy">© 2025 Inmobiliaria. Todos los derechos reservados.</p>
    </div>
  </footer>

  <a href="#" class="whatsapp-float" id="whatsapp-float" aria-label="Consultar por WhatsApp" target="_blank"
    rel="noopener noreferrer">
    <svg fill="currentColor" viewBox="0 0 24 24">
      <path
        d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z" />
    </svg>
  </a>

  <script src="js/theme-toggle.js"></script>
  <script src="js/data.js"></script>
  <script src="js/main.js"></script>
  <script src="js/animations.js"></script>
  <script>
    (function () {
      var q = window.INMO && window.INMO.getQueryParams ? window.INMO.getQueryParams() : {};
      var list = filterProperties(q);
      var grid = document.getElementById('props-list');
      var empty = document.getElementById('empty-state');
      var countEl = document.getElementById('result-count');
      var form = document.getElementById('filters-form');
      if (form) {
        if (q.operacion) form.querySelector('[name="operacion"]').value = q.operacion;
        if (q.tipo) form.querySelector('[name="tipo"]').value = q.tipo;
        if (q.zona) form.querySelector('[name="zona"]').value = q.zona;
        if (q.minPrecio) form.querySelector('[name="minPrecio"]').value = q.minPrecio;
        if (q.maxPrecio) form.querySelector('[name="maxPrecio"]').value = q.maxPrecio;
        if (q.ambientes) form.querySelector('[name="ambientes"]').value = q.ambientes;
      }
      if (countEl) countEl.textContent = list.length + ' ' + (list.length === 1 ? 'propiedad encontrada' : 'propiedades encontradas');
      if (list.length === 0) {
        if (grid) grid.classList.add('hidden');
        if (empty) empty.classList.remove('hidden');
      } else {
        if (empty) empty.classList.add('hidden');
        list.forEach(function (p) {
          var isRent = p.operation === 'alquiler';
          var card = document.createElement('article');
          card.className = 'property-card';
          card.innerHTML = '<a href="propiedad.html?id=' + p.id + '"><div class="img-wrap" style="position:relative"><img src="' + (p.images && p.images[0]) + '" alt=""><span class="badge">' + (isRent ? 'Alquiler' : 'Venta') + '</span></div><div class="content"><h2>' + p.title + '</h2><p class="location">' + p.location + '</p><div class="meta"><span>' + p.rooms + ' amb.</span><span>' + p.bathrooms + ' baños</span>' + (p.coveredArea ? '<span>' + p.coveredArea + ' m²</span>' : '') + '</div><p class="price">' + formatPrice(p.price, p.currency) + '</p><span class="link">Ver detalle →</span></div></a>';
          grid.appendChild(card);
        });
      }
      var wa = document.getElementById('whatsapp-float');
      if (wa) wa.href = window.INMO && window.INMO.whatsappUrl ? window.INMO.whatsappUrl() : '#';
    })();
  </script>
</body>

</html>